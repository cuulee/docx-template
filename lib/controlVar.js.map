{"version":3,"sources":["../src/controlVar.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;uBAAoB,WAAW;;;;IAEV,UAAU;cAAV,UAAU;;AAChB,aADM,UAAU,GACd;8BADI,UAAU;;AAEvB,mCAFa,UAAU,8CAEd,SAAS,EAAC;AACnB,YAAI,IAAI,GAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAA;AAC9C,YAAI,CAAC,OAAO,GAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAC,IAAI,CAAC,MAAM,GAAC,CAAC,CAAC,CAAA;KAC/C;;iBALgB,UAAU;;eAOpB,mBAAE;AACL,gBAAI,KAAK,GAAC,AAAC,IAAI,QAAQ,CAAC,EAAE,cAAW,IAAI,CAAC,OAAO,CAAG,EAAG,CAAA;AACvD,gBAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAC,KAAK,CAAC,CAAA;AAC5C,mBAAO,KAAK,CAAA;;;;;;;;SAQf;;;eAIU,cAAC,SAAS,EAAC;AAClB,gBAAI,IAAI,GAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAA;AAC1C,mBAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAE,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAE,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAC,CAAC,CAAC,IAAE,GAAG,CAAA;SACvF;;;WAzBgB,UAAU;;;qBAAV,UAAU","file":"controlVar.js","sourcesContent":["import Control from \"./control\"\r\n\r\nexport default class ControlVar extends Control{\r\n    constructor(){\r\n        super(...arguments)\r\n        let text=this.srcModel.wXml.textContent.trim()\r\n        this.varName=text.substring(1,text.length-2)\r\n    }\r\n\r\n    resolve(){\r\n        let value=(new Function(\"\",`return ${this.control}`))()\r\n        this.assemblerDoc.addVar(this.varName,value)\r\n        return false\r\n        /*\r\n        let ts=this.srcModel.wXml.$('t')\r\n        ts[0].textContent=value\r\n        for(var i=1,len=ts.length;i<len;i++)\r\n            ts[i].remove()\r\n        return false\r\n        */\r\n    }\r\n\r\n    \r\n\r\n    static test(wordModel){\r\n        var text=wordModel.wXml.textContent.trim()\r\n        return text.charAt(0)=='$' && text.charAt(1)=='{' && text.charAt(text.length-1)=='}'\r\n    }\r\n}\r\n"]}